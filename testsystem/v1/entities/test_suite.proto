syntax = "proto3";

package testsystem.v1.entities;

import "testsystem/v1/common/common.proto";
import "testsystem/v1/entities/test_case.proto";
import "google/protobuf/timestamp.proto";
import "google/protobuf/duration.proto";

option go_package = "github.com/stanterprise/proto-go/testsystem/v1/entities";
option java_package = "com.stanterprise.testsystem.v1.entities";
option java_multiple_files = true;

message TestSuiteRun {
    string id = 1; // Unique identifier for the test suite run
    string name = 2; // Name of the test suite
    string description = 3; // Description of the test suite
    string run_id = 4; // Identifier for the global test run this suite belongs to
    google.protobuf.Timestamp start_time = 5; // Start time of the suite execution
    google.protobuf.Timestamp end_time = 6; // End time of the suite execution
    google.protobuf.Duration duration = 7; // Duration of the suite execution
    testsystem.v1.common.TestStatus status = 8; // Overall status of the suite run
    map<string, string> metadata = 9; // Additional metadata for the suite
    string location = 10; // Location or path of the test suite definition
    SuiteType type = 11; // Type of the test suite (e.g., "root", "project", "subsuite", "file", etc.)
    string parent_suite_id = 12; // Reference to the parent suite, if any
    repeated string test_case_ids = 13; // List of test case IDs in this suite
    repeated string sub_suite_ids = 14; // Nested test suite IDs
    string project = 15; // Project identifier (e.g., browser/device configuration for Playwright)
    string initiated_by = 16; // Identifier for who initiated the test run
    string author = 17; // Author of the test suite
    string owner = 18; // Team or individual responsible for the test suite
    repeated testsystem.v1.entities.TestCaseRun test_cases = 19; // Nested test case objects (optional, for sending full structure)
    repeated TestSuiteRun sub_suites = 20; // Nested test suite objects (optional, for sending full structure)
}

enum SuiteType {
    ROOT = 0;
    PROJECT = 1;
    SUBSUITE = 2;
    FILE = 3;
}
